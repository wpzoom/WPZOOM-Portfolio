!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){!function(){e.exports=this.wp.date}()},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){!function(){e.exports=this.wp.blockEditor}()},function(e,t,n){"use strict";n.r(t);var o=n(4),r=n.n(o),c=n(7),i=n.n(c),a=n(0),l=n(1),s=n(3),u=n(6),b=n(8),m=n(2),d=n(5);Object(s.registerBlockType)("wpzoom-blocks/posts",{title:Object(l.__)("Posts"),description:Object(l.__)("Display a list of posts, optionally filtered/sorted by category or other requisites."),icon:"list-view",category:"wpzoom-blocks",supports:{html:!1},example:{},edit:Object(u.withSelect)((function(e,t){var n=e("core").getEntityRecords,o=t.attributes,r=o.categories,c=o.amount,i=o.order,a=o.orderBy;o.thumbnailSize;return{posts:n("postType","post",{categories:r,orderby:a,order:i,per_page:c,status:"publish"}),categoriesList:n("taxonomy","category",{per_page:-1,hide_empty:!1})}}))((function(e){var t=e.attributes,n=e.setAttributes,o=e.posts,c=e.categoriesList,s=(e.className,t.categories),p=t.amount,f=t.order,h=t.orderBy,_=t.showThumbnail,O=t.thumbnailSize,j=t.showDate,g=t.showExcerpt,y=t.excerptLength,w=t.showReadMoreButton,E=e.name.replace(/[\/]/i,"_")+"-block",v=Object(d.__experimentalGetSettings)().formats.date;return o?o&&0===o.length?Object(a.createElement)(a.Fragment,null,Object(a.createElement)(m.Placeholder,{icon:"list-view",label:Object(l.__)("WPZOOM Blocks - Posts")},Object(l.__)("No posts found."))):Object(a.createElement)(a.Fragment,null,Object(a.createElement)(b.InspectorControls,null,Object(a.createElement)(m.PanelBody,{title:Object(l.__)("Options")},Object(a.createElement)(m.QueryControls,i()({order:f,orderBy:h},{numberOfItems:p,categoriesList:c,selectedCategoryId:s,onOrderChange:function(e){return n({order:e})},onOrderByChange:function(e){return n({orderBy:e})},onCategoryChange:function(e){return n({categories:""!==e?e:void 0})},onNumberOfItemsChange:function(e){return n({amount:e})}})),Object(a.createElement)(m.ToggleControl,{label:Object(l.__)("Show Post Thumbnail"),checked:_,onChange:function(e){return n({showThumbnail:e})}}),_&&Object(a.createElement)(m.SelectControl,{label:Object(l.__)("Post Thumbnail Size"),value:O,options:[{label:Object(l.__)("Full"),value:"full"},{label:Object(l.__)("Medium"),value:"medium"},{label:Object(l.__)("Thumbnail"),value:"thumbnail"}],onChange:function(e){return n({thumbnailSize:e})}}),Object(a.createElement)(m.ToggleControl,{label:Object(l.__)("Show Post Date"),checked:j,onChange:function(e){return n({showDate:e})}}),Object(a.createElement)(m.ToggleControl,{label:Object(l.__)("Show Post Excerpt"),checked:g,onChange:function(e){return n({showExcerpt:e})}}),g&&Object(a.createElement)(m.RangeControl,{label:Object(l.__)("Excerpt Length"),value:y,onChange:function(e){return n({excerptLength:e})},min:1,max:1e3}),Object(a.createElement)(m.ToggleControl,{label:Object(l.__)("Show Read More Button"),checked:w,onChange:function(e){return n({showReadMoreButton:e})}}))),Object(a.createElement)("ul",{className:"wpzoom-blocks ".concat(E)},o.map((function(e,t){var n="title"in e&&"object"===r()(e.title)&&"rendered"in e.title?e.title.rendered.trim():Object(l.__)("(no title)"),o=!1;if(e.featured_media){var c=Object(u.useSelect)((function(t){return{media:t("core").getMedia(e.featured_media)}}),[e.featured_media]).media,i=void 0===c?null:c;"object"===r()(i)&&null!==i&&"media_details"in i&&"sizes"in i.media_details&&((o=O in i.media_details.sizes?i.media_details.sizes[O]:"thumbnail"in i.media_details.sizes?i.media_details.sizes.thumbnail:{source_url:i.source_url,height:i.media_details.height,width:i.media_details.width}).alt=i.alt_text.trim()||i.title.rendered.trim())}return Object(a.createElement)("li",{key:e.id,className:"".concat(E,"_post ").concat(E,"_post-").concat(e.id)},_&&o&&o.source_url&&o.height&&o.width&&Object(a.createElement)("div",{className:"".concat(E,"_post-thumbnail")},Object(a.createElement)("a",{href:e.link,title:n},Object(a.createElement)("img",{src:o.source_url,height:o.height,width:o.width,alt:o.alt}))),Object(a.createElement)("h3",{className:"".concat(E,"_post-title")},Object(a.createElement)("a",{href:e.link,title:n},n?Object(a.createElement)(a.RawHTML,null,n):Object(l.__)("(no title)"))),j&&e.date_gmt&&Object(a.createElement)("time",{dateTime:Object(d.format)("c",e.date_gmt),className:"".concat(E,"_post-date")},Object(d.dateI18n)(v,e.date_gmt)),g&&"content"in e&&"object"===r()(e.content)&&"rendered"in e.content&&Object(a.createElement)("div",{className:"".concat(E,"_post-content")},Object(a.createElement)(a.RawHTML,{key:"html"},e.content.rendered.trim().split(" ",y).join(" "))),w&&Object(a.createElement)("div",{className:"".concat(E,"_post-readmore-button wp-block-button")},Object(a.createElement)("a",{href:e.link,title:Object(l.__)("Continue reading this post..."),className:"wp-block-button__link"},Object(l.__)("Read More"))))})))):Object(a.createElement)(a.Fragment,null,Object(a.createElement)(m.Placeholder,{icon:"list-view",label:Object(l.__)("WPZOOM Blocks - Posts")},Object(a.createElement)(m.Spinner,null)," ",Object(l.__)("Loading posts...")))}))})}]);